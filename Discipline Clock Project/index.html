<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Discipline Clock – Smart Scheduler (12-Hour Mode)</title>

<!-- PWA Integration -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#1565c0">
<link rel="stylesheet" href="style.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<!-- Register Service Worker -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('service-worker.js')
      .then(() => console.log('✅ Service Worker Registered'))
      .catch((err) => console.error('Service Worker Error:', err));
  });
}
</script>
</head>

<body>
<h1>🕒 Discipline Clock – Real-Time Task Scheduler (12-Hour Mode)</h1>

<!-- Analog Clock -->
<div class="clock" id="clock">
  <div class="number" style="transform: rotate(30deg)"><span style="transform: rotate(-30deg)">1</span></div>
  <div class="number" style="transform: rotate(60deg)"><span style="transform: rotate(-60deg)">2</span></div>
  <div class="number" style="transform: rotate(90deg)"><span style="transform: rotate(-90deg)">3</span></div>
  <div class="number" style="transform: rotate(120deg)"><span style="transform: rotate(-120deg)">4</span></div>
  <div class="number" style="transform: rotate(150deg)"><span style="transform: rotate(-150deg)">5</span></div>
  <div class="number" style="transform: rotate(180deg)"><span style="transform: rotate(-180deg)">6</span></div>
  <div class="number" style="transform: rotate(210deg)"><span style="transform: rotate(-210deg)">7</span></div>
  <div class="number" style="transform: rotate(240deg)"><span style="transform: rotate(-240deg)">8</span></div>
  <div class="number" style="transform: rotate(270deg)"><span style="transform: rotate(-270deg)">9</span></div>
  <div class="number" style="transform: rotate(300deg)"><span style="transform: rotate(-300deg)">10</span></div>
  <div class="number" style="transform: rotate(330deg)"><span style="transform: rotate(-330deg)">11</span></div>
  <div class="number" style="transform: rotate(0deg)"><span style="transform: rotate(0deg)">12</span></div>

  <div class="hand hour" id="hour"></div>
  <div class="hand minute" id="minute"></div>
  <div class="hand second" id="second"></div>
  <div class="center"></div>
</div>

<!-- Task Controls -->
<div class="controls">
  <div class="inputs">
    <select id="taskAction" onchange="toggleTaskMode()">
      <option value="add">➕ Add Task</option>
      <option value="remove">❌ Remove Task</option>
    </select>
  </div>

  <!-- Add Task Form -->
  <div id="taskForm">
    <input type="text" id="taskName" placeholder="Task name" required/>
    <label>Start:</label>
    <input type="time" id="startTime" step="60">
    <label>End:</label>
    <input type="time" id="endTime" step="60">
    <button onclick="addTask()">Add</button>
  </div>

  <!-- Remove Task -->
  <div id="removeForm" style="display:none;">
    <select id="removeSelect"></select>
    <button onclick="removeTask()">Delete</button>
  </div>

  <div id="remainingTime">Waiting for next task...</div>
</div>

<!-- Task Table -->
<h2>📋 Today's Schedule</h2>
<table id="taskTable">
  <thead>
    <tr>
      <th>#</th>
      <th>Task</th>
      <th>Start</th>
      <th>End</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
<div class="report-section">
  <div style="margin-top: 20px; text-align:center;">
    <button onclick="printReport()">📄 Generate Report PDF</button>
  </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>

<script src="script.js"></script>

</body>
</html>
